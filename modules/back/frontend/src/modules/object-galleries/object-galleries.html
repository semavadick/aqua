<page-header [title]="'Управление объектами'"></page-header>

<div class="content">

    <my-datatable
            [manager]="manager"
            [columns]="columns"
            [entityForm]="form"
            (formInitialize)="i18ns.init(form)"
            defaultSortAttribute="added"
            title="Список объектов"
            createButtonText="Добавить объект"
            deleteMessage="Уверены, что хотите удалить данный объект?"
            createFormTitle="Добавление объекта"
            updateFormTitle="Редактирование объекта"
    >
        <my-datatable-entity-form>

            <form-group [form]="form" attribute="isTop" [horizontal]="false">
                <my-checkbox label="Топ раздела" [(value)]="form.isTop"></my-checkbox>
            </form-group>

            <form-group [form]="form" attribute="isExclusive" [horizontal]="false">
                <my-checkbox label="Эксклюзив" [(value)]="form.isExclusive"></my-checkbox>
            </form-group>

            <form-group [form]="form" attribute="coordsLat" label="Широта">
                <input [(ngModel)]="form.coordsLat" type="text" class="form-control" />
            </form-group>

            <form-group [form]="form" attribute="coordsLng" label="Долгота">
                <input [(ngModel)]="form.coordsLng" type="text" class="form-control" />
            </form-group>

            <form-group [form]="form" attribute="regionId" label="Типы бассейнов">
                <multi-select [(value)]="form.typeIds" [items]="manager.poolTypes"></multi-select>
            </form-group>

            <gallery-images [images]="form.images"></gallery-images>

            <i18n-tabs>
                <div *ngFor="let i18nForm of form.getI18ns()">

                    <i18n-checkbox [form]="i18nForm"></i18n-checkbox>

                    <form-group [form]="i18nForm" [attribute]="'name'" [label]="'Название'" [horizontal]="false">
                        <input [(ngModel)]="i18nForm.name" type="text" class="form-control" />
                    </form-group>

                    <form-group [form]="i18nForm" [attribute]="'address'" [label]="'Адрес'" [horizontal]="false">
                        <input [(ngModel)]="i18nForm.address" type="text" class="form-control" />
                    </form-group>

                    <form-group [form]="i18nForm" [attribute]="'shortDescription'" [label]="'Краткое описание'" [horizontal]="false">
                        <textarea [(ngModel)]="i18nForm.shortDescription" class="form-control"></textarea>
                    </form-group>

                    <form-group [form]="i18nForm" attribute="description" label="Описание" [horizontal]="false">
                        <my-wysiwyg [(value)]="i18nForm.description" [withGalleries]="true" [withIncuts]="true"></my-wysiwyg>
                    </form-group>

                    <!--<form-group [form]="i18nForm" [attribute]="'slug'" [label]="'ЧПУ'" [horizontal]="false">
                        <input [(ngModel)]="i18nForm.slug" type="text" class="form-control" />
                    </form-group>-->

                    <form-group [form]="i18nForm" [attribute]="'pageTitle'" [label]="'Title страницы'" [horizontal]="false">
                        <input [(ngModel)]="i18nForm.pageTitle" type="text" class="form-control" />
                    </form-group>

                    <form-group [form]="i18nForm" [attribute]="'pageMetaKeywords'" [label]="'Meta-keywords страницы'" [horizontal]="false">
                        <input [(ngModel)]="i18nForm.pageMetaKeywords" type="text" class="form-control" />
                    </form-group>

                    <form-group [form]="i18nForm" [attribute]="'pageMetaDescription'" [label]="'Meta-description страницы'" [horizontal]="false">
                        <textarea [(ngModel)]="i18nForm.pageMetaDescription" class="form-control"></textarea>
                    </form-group>

                </div>
            </i18n-tabs>

        </my-datatable-entity-form>
    </my-datatable>

</div>